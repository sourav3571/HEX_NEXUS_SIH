"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_use-hide-footer_use-hide-footer_ts-packages_commits_shared_use-tree-pane_tsx-package-9c5f33"],{70719:(e,t,n)=>{n.d(t,{U:()=>s});var i=n(21728),r=n(96379),a=n(97665),l=n(94747),o=n(79472),c=n(21067);function s(e){let t,n,r,c,s=(0,i.c)(10),{onSuccess:f,onError:m}=e,u=(0,a.jE)();return s[0]!==u?(t=async e=>{u.setQueryData((0,o.w$)(),t=>({...t,...e}))},s[0]=u,s[1]=t):t=s[1],s[2]!==f?(n=()=>{f()},s[2]=f,s[3]=n):n=s[3],s[4]!==m?(r=e=>{m(e)},s[4]=m,s[5]=r):r=s[5],s[6]!==t||s[7]!==n||s[8]!==r?(c={mutationFn:d,onMutate:t,onSuccess:n,onError:r},s[6]=t,s[7]=n,s[8]=r,s[9]=c):c=s[9],(0,l.n)(c)}async function d(e){let{commentsPreference:t,lineSpacing:n,splitPreference:i}=e;if(!(0,c.M3)())return;let a={};t&&(a={...a,commentsPreference:t}),n&&(a={...a,lineSpacing:n}),i&&(a={...a,diff:i});let l=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:a}),o=await l.json();if(l.ok)return o;throw Error(o.error||"Unknown error occurred",{cause:l.status})}},81355:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(21728),r=n(96540),a=n(61583),l=n(71315);function o(){let e,t,n,o,c=(0,i.c)(6),[s,d]=(0,r.useState)("");c[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{d(((0,a.pd)(l.fV.hash??"")??"").replace("diff-",""))},c[0]=e):e=c[0];let f=e;c[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(window.addEventListener("hashchange",f),f(),()=>{window.removeEventListener("hashchange",f)}),n=[f],c[1]=t,c[2]=n):(t=c[1],n=c[2]),(0,r.useEffect)(t,n);let m=s?`diff-${s}`:"";return c[3]!==s||c[4]!==m?(o={selectedPathDigest:s,selectedFullDiffHash:m,setSelectedHash:d},c[3]=s,c[4]=m,c[5]=o):o=c[5],o}},34535:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(96540);function r({focusRowRef:e,mouseRowRef:t}){let[n,r]=i.useState(!1);return i.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),n}},70843:(e,t,n)=>{n.d(t,{L:()=>r});var i=n(96540);function r(e){(0,i.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},46001:(e,t,n)=>{n.d(t,{q:()=>u});var i=n(74848),r=n(8624),a=n(94195),l=n(54571),o=n(96540),c=n(25407),s=n(96379);async function d(e,t){if(!t)return;let n=new FormData;n.set("file_tree_visible",e?"true":"false"),(0,s.DI)((0,c.h6D)(t),{method:"PUT",body:n,headers:{Accept:"application/json"}})}let f={sm:a.Gy.small,md:a.Gy.medium,lg:a.Gy.large},m={size:"medium",mobileBreakpoint:"md"};function u(e,t,n,c){let s={...m,...c},[u]=(0,l.I)(()=>!1,!0,[]),h=(0,o.useRef)(null),p=(0,o.useRef)(null),g=f[s.mobileBreakpoint??"md"],[x,y]=(0,o.useState)(t),[b,v]=(0,o.useState)(!1),j=(0,o.useCallback)(()=>{(0,a.nn)(window.innerWidth)<=g?(v(!0),requestAnimationFrame(()=>p.current?.focus())):(y(!0),d(!0,n),requestAnimationFrame(()=>h.current?.focus()))},[g,n]),_=(0,o.useCallback)(()=>{(0,a.nn)(window.innerWidth)<=g?(v(!1),requestAnimationFrame(()=>p.current?.focus())):(y(!1),d(!1,n),requestAnimationFrame(()=>h.current?.focus()))},[g,n]),S=(0,o.useMemo)(()=>(0,i.jsx)(r.L,{expanded:x,alignment:"left",ariaLabel:x?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:h,onToggleExpanded:()=>{x?_():j()},className:`d-none d-${s.mobileBreakpoint}-flex position-relative`,size:s.size}),[x,e,s.mobileBreakpoint,s.size,_,j]),C=(0,o.useMemo)(()=>(0,i.jsx)(r.L,{expanded:b,alignment:"left",ariaLabel:b?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:p,onToggleExpanded:()=>{b?_():j()},className:`d-${s.mobileBreakpoint}-none position-relative`,size:s.size}),[b,e,s.mobileBreakpoint,s.size,_,j]);return{splitPagePaneHidden:u&&!t,splitPageContentHidden:{narrow:b,regular:!1},isTreeExpanded:x,isMobileTreeExpanded:b,expandTree:j,collapseTree:_,treeToggleElement:(0,o.useMemo)(()=>(0,i.jsxs)(i.Fragment,{children:[C,S]}),[C,S]),treeToggleRef:h}}},78252:(e,t,n)=>{n.d(t,{$:()=>o});var i=n(74848),r=n(38621),a=n(52446),l=n(34720);let o=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l.Divider,{}),(0,i.jsx)(l.t,{eventContext:{prx:!0},leadingVisual:(0,i.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},1946:(e,t,n)=>{n.d(t,{oj:()=>j,ZH:()=>y});var i=n(74848),r=n(21728),a=n(38621),l=n(96540),o=n(3614),c=n(81246),s=n(20426),d=n(25556),f=n(35311),m=n(78049),u=n(34535),h=n(81355),p=n(71315);let g={"file-tree-row":"DiffFileTree-module__file-tree-row--GJi_6"},x=(0,l.memo)(function(e){let t,n=(0,r.c)(2),{changeType:a}=e;return n[0]!==a?(t=(0,i.jsx)(m.E,{status:a}),n[0]=a,n[1]=t):t=n[1],t});x.displayName="FileStatusIconItem";let y=(0,l.memo)(function(e){let t,n,d,f,m,h,y,b,v,j,_=(0,r.c)(37),{file:S,depth:C,hash:w,onSelect:N}=e,D=(0,l.useRef)(null),I=(0,l.useRef)(null),E=`#diff-${S.diff.pathDigest}`;_[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:D,mouseRowRef:D},_[0]=t):t=_[0];let T=(0,u.Z)(t),P=S.diff.totalCommentsCount??0,k=S.diff.highestAnnotationLevel,F=null,R=S.fileName??"This file";switch(P>0&&(R+=` has ${P<10?P:"9+"} ${P>1?"comments":"comment"}`),k){case"WARNING":{let e;R+=`${P>0?" and":""} has warning annotations`,_[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,i.jsx)(a.AlertIcon,{})}),_[1]=e):e=_[1],F=e;break}case"NOTICE":{let e;R+=`${P>0?" and":""} has notice annotations`,_[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"pl-1 fgColor-default",children:(0,i.jsx)(a.InfoIcon,{})}),_[2]=e):e=_[2],F=e;break}case"FAILURE":{let e;R+=`${P>0?" and":""} has failure annotations`,_[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,i.jsx)(a.XCircleFillIcon,{})}),_[3]=e):e=_[3],F=e}}_[4]!==S.diff.pathDigest||_[5]!==w?(n=()=>{if(D.current&&S.diff.pathDigest===w){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=D.current.offsetTop,n=p.cg?.innerHeight??0;e&&(e.scrollTop=t-n/2)},0);return()=>{window.clearTimeout(e)}}},d=[S.diff.pathDigest,w],_[4]=S.diff.pathDigest,_[5]=w,_[6]=n,_[7]=d):(n=_[6],d=_[7]),(0,l.useEffect)(n,d),_[8]!==E?(f=e=>{if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(E,"_blank");return}},_[8]=E,_[9]=f):f=_[9];let $=f;_[10]!==$||_[11]!==N?(m=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(D?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),N?.(),I?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),$(e);return}N?.(),I?.current?.click()}},_[10]=$,_[11]=N,_[12]=m):m=_[12];let O=m,B=S.fileName??"";_[13]!==E||_[14]!==B||_[15]!==$?(h=(0,i.jsx)(c.A,{href:E,muted:!0,ref:I,role:"presentation",className:"fgColor-default",tabIndex:-1,onClick:$,children:B}),_[13]=E,_[14]=B,_[15]=$,_[16]=h):h=_[16];let A=h,G=S.diff.pathDigest===w;return _[17]!==S.diff.changeType?(y=(0,i.jsx)(s.G.LeadingVisual,{children:(0,i.jsx)(x,{changeType:S.diff.changeType})}),_[17]=S.diff.changeType,_[18]=y):y=_[18],_[19]!==A||_[20]!==B||_[21]!==T?(b=T?(0,i.jsx)(o.m,{text:B,direction:"ne",children:A}):A,_[19]=A,_[20]=B,_[21]=T,_[22]=b):b=_[22],_[23]!==F||_[24]!==k||_[25]!==P?(v=(!!P||k)&&(0,i.jsx)(s.G.TrailingVisual,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!P&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.CommentIcon,{}),(0,i.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:P<10?P:"9+"})]}),F]})}),_[23]=F,_[24]=k,_[25]=P,_[26]=v):v=_[26],_[27]!==C||_[28]!==S.diff.path||_[29]!==S.diff.pathDigest||_[30]!==O||_[31]!==R||_[32]!==v||_[33]!==G||_[34]!==y||_[35]!==b?(j=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.G.Item,{defaultExpanded:!0,"aria-label":R,"aria-level":C,current:G,id:S.diff.path,onSelect:O,ref:D,className:g["file-tree-row"],children:[y,b,v]},S.diff.pathDigest)}),_[27]=C,_[28]=S.diff.path,_[29]=S.diff.pathDigest,_[30]=O,_[31]=R,_[32]=v,_[33]=G,_[34]=y,_[35]=b,_[36]=j):j=_[36],j});function b(e){let t,n,a,o,c,f,m,h,p,g,x,y,j=(0,r.c)(43);j[0]!==e?({directory:t,depth:o,leadingPath:c,sortByDiffOrder:a,...n}=e,j[0]=e,j[1]=t,j[2]=n,j[3]=a,j[4]=o,j[5]=c):(t=j[1],n=j[2],a=j[3],o=j[4],c=j[5]);let _=void 0===o?0:o,S=void 0===c?"":c,C=S?`${S}/`:"",w=l.useRef(null),N=l.useRef(null);j[6]===Symbol.for("react.memo_cache_sentinel")?(f={focusRowRef:N,mouseRowRef:w},j[6]=f):f=j[6];let D=(0,u.Z)(f);if(!t.files.length&&1===t.directories.length){let e,r;if(j[7]!==_||j[8]!==t.directories||j[9]!==t.name||j[10]!==n||j[11]!==C||j[12]!==a){let r;j[14]!==_||j[15]!==t.name||j[16]!==n||j[17]!==C||j[18]!==a?(r=e=>(0,i.jsx)(b,{depth:0===_?1:_,directory:e,leadingPath:`${C}${t.name}`,sortByDiffOrder:a,...n},e.path),j[14]=_,j[15]=t.name,j[16]=n,j[17]=C,j[18]=a,j[19]=r):r=j[19],e=t.directories.map(r),j[7]=_,j[8]=t.directories,j[9]=t.name,j[10]=n,j[11]=C,j[12]=a,j[13]=e}else e=j[13];return j[20]!==e?(r=(0,i.jsx)(i.Fragment,{children:e}),j[20]=e,j[21]=r):r=j[21],r}j[22]!==_||j[23]!==t||j[24]!==n||j[25]!==a?(m=function(){return(0,i.jsx)(v,{directory:t,depth:_,sortByDiffOrder:a,...n})},j[22]=_,j[23]=t,j[24]=n,j[25]=a,j[26]=m):m=j[26];let I=m;if(0===_){let e;return j[27]!==I?(e=I(),j[27]=I,j[28]=e):e=j[28],e}j[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)(s.G.LeadingVisual,{children:(0,i.jsx)(s.G.DirectoryIcon,{})}),j[29]=h):h=j[29];let E=`${C}${t.name}`;return j[30]!==E?(p=(0,i.jsx)("span",{ref:w,children:E}),j[30]=E,j[31]=p):p=j[31],j[32]!==t.name||j[33]!==C||j[34]!==D?(g=D&&(0,i.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:N,"aria-label":`${C}${t.name}`,open:!0,direction:"ne"}),j[32]=t.name,j[33]=C,j[34]=D,j[35]=g):g=j[35],j[36]!==I?(x=(0,i.jsx)(s.G.SubTree,{children:I()}),j[36]=I,j[37]=x):x=j[37],j[38]!==t.path||j[39]!==p||j[40]!==g||j[41]!==x?(y=(0,i.jsxs)(s.G.Item,{ref:N,defaultExpanded:!0,id:t.path,children:[h,p,g,x]},t.path),j[38]=t.path,j[39]=p,j[40]=g,j[41]=x,j[42]=y):y=j[42],y}let v=(0,l.memo)(function(e){let t,n,a=(0,r.c)(4);if(a[0]!==e){let{directory:n,fileNodeRenderer:r,sortByDiffOrder:l,depth:o,...c}=e,s=void 0===o?0:o,d=n.files.map(_).concat(n.directories.map(S));l?d.sort(C):d.sort(w),t=d.map(e=>"file"!==e.pathType?(0,i.jsx)(b,{depth:s+1,directory:e.node,fileNodeRenderer:r,sortByDiffOrder:l,...c},e.path):r?r({...c,file:e.node,depth:s+1}):(0,i.jsx)(y,{depth:s+1,file:e.node,...c},e.path)),a[0]=e,a[1]=t}else t=a[1];return a[2]!==t?(n=(0,i.jsx)(i.Fragment,{children:t}),a[2]=t,a[3]=n):n=a[3],n}),j=(0,l.memo)(function(e){let t,n,a,l,o,c,d,m,u=(0,r.c)(17);u[0]!==e?({diffs:n,fileNodeRenderer:a,sortByDiffOrder:o,className:t,...l}=e,u[0]=e,u[1]=t,u[2]=n,u[3]=a,u[4]=l,u[5]=o):(t=u[1],n=u[2],a=u[3],l=u[4],o=u[5]),u[6]!==n?(c=(0,f.xY)(n),u[6]=n,u[7]=c):c=u[7];let p=c,{selectedPathDigest:g}=(0,h.U)();return u[8]!==a||u[9]!==l||u[10]!==p||u[11]!==g||u[12]!==o?(d=(0,i.jsx)(b,{directory:p,fileNodeRenderer:a,sortByDiffOrder:o,...l,hash:g}),u[8]=a,u[9]=l,u[10]=p,u[11]=g,u[12]=o,u[13]=d):d=u[13],u[14]!==t||u[15]!==d?(m=(0,i.jsx)(s.G,{"aria-label":"File Tree",className:t,children:d}),u[14]=t,u[15]=d,u[16]=m):m=u[16],m});try{y.displayName||(y.displayName="File")}catch{}try{b.displayName||(b.displayName="Directory")}catch{}try{v.displayName||(v.displayName="DirectoryRendering")}catch{}try{j.displayName||(j.displayName="DiffFileTree")}catch{}function _(e){return{path:e.filePath,pathType:"file",node:e,sortOrder:e.sortOrder}}function S(e){return{path:e.path,pathType:"directory",node:e,sortOrder:e.sortOrder}}function C(e,t){return e.sortOrder-t.sortOrder}function w(e,t){return(0,f.wH)(e.path,t.path)}},27028:(e,t,n)=>{n.d(t,{G:()=>O});var i=n(74848),r=n(21728),a=n(38621),l=n(5945),o=n(52446),c=n(34164),s=n(55847),d=n(57123),f=n(96540),m=n(21067),u=n(25407),h=n(76648),p=n(96379);function g(e){return!e.dismissed}function x(e){return 0===(function(){let e,t,n=(0,r.c)(5),i=(0,h.B)();if(!i){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[0]=e):e=n[0],e}n[1]!==i.userNotices?(e=i.userNotices??[],n[1]=i.userNotices,n[2]=e):e=n[2];let a=e;return n[3]!==a?(t=a.filter(g),n[3]=a,n[4]=t):t=n[4],t})().filter(t=>t.name===e).length}var y=n(70719);let b={PopoverContainer:"DiffCompactLinesPopover-module__PopoverContainer--A4URR",PopoverContent:"DiffCompactLinesPopover-module__PopoverContent--HUydq",Heading:"DiffCompactLinesPopover-module__Heading--hFmwp"},v="compact_diff_lines";function j(){let e,t,n,a,l,o,h,g,j,C,w=(0,r.c)(19),N=x(v),{dismissNotice:D}=function(e){let t,n,i=(0,r.c)(5),a=x(e);i[0]!==a||i[1]!==e?(t=()=>{(0,m.M3)()&&!a&&(0,p.DI)((0,u.VB1)({noticeName:e}),{method:"POST"})},i[0]=a,i[1]=e,i[2]=t):t=i[2];let l=t;return i[3]!==l?(n={dismissNotice:l},i[3]=l,i[4]=n):n=i[4],n}(v);w[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:S,onError:_},w[0]=e):e=w[0];let{mutate:I}=(0,y.U)(e),[E,T]=(0,f.useState)(!0);w[1]!==D||w[2]!==I?(t=()=>{I({lineSpacing:"compact"}),T(!1),D()},w[1]=D,w[2]=I,w[3]=t):t=w[3];let P=t;w[4]!==D?(n=()=>{T(!1),D()},w[4]=D,w[5]=n):n=w[5];let k=n;return N?null:(w[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.$)("d-flex flex-column gap-2",b.PopoverContent),l=(0,i.jsx)("h2",{className:b.Heading,children:"Customizable line height"}),o=(0,i.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),w[6]=a,w[7]=l,w[8]=o):(a=w[6],l=w[7],o=w[8]),w[9]!==P?(h=(0,i.jsx)(s.Q,{onClick:P,children:"Enable compact line height"}),w[9]=P,w[10]=h):h=w[10],w[11]!==k?(g=(0,i.jsx)(s.Q,{onClick:k,variant:"invisible",children:"Dismiss"}),w[11]=k,w[12]=g):g=w[12],w[13]!==h||w[14]!==g?(j=(0,i.jsxs)(d.A.Content,{className:a,children:[l,o,(0,i.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[h,g]})]}),w[13]=h,w[14]=g,w[15]=j):j=w[15],w[16]!==E||w[17]!==j?(C=(0,i.jsx)(d.A,{open:E,caret:"top-right",className:b.PopoverContainer,children:j}),w[16]=E,w[17]=j,w[18]=C):C=w[18],C)}function _(){}function S(){}try{j.displayName||(j.displayName="DiffCompactLinesPopover")}catch{}var C=n(79472);function w(e){let t,n,a,l,c,s=(0,r.c)(15),{lineSpacingPreferenceAvailable:d,defaultHideWhitespace:f,onUpdateWhitespace:m,reloadOnChange:u}=e,h=void 0===d||d,{data:p}=(0,C.ID)(),g=(0,C.Qn)(void 0!==f&&f);s[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:D,onError:N},s[0]=t):t=s[0];let{mutate:x}=(0,y.U)(t);s[1]!==g||s[2]!==m||s[3]!==u?(n=()=>{(0,C.bJ)("w",g?"0":"1"),m?.(!g),void 0!==u&&u()},s[1]=g,s[2]=m,s[3]=u,s[4]=n):n=s[4];let b=n;return p?(s[5]!==g||s[6]!==b?(a=(0,i.jsx)(o.l.Item,{selected:g,onSelect:b,children:"Hide whitespace"}),s[5]=g,s[6]=b,s[7]=a):a=s[7],s[8]!==p||s[9]!==h||s[10]!==x?(l=h&&(0,i.jsx)(o.l.Item,{selected:"compact"===p.lineSpacing,onSelect:()=>x({lineSpacing:"compact"===p.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),s[8]=p,s[9]=h,s[10]=x,s[11]=l):l=s[11],s[12]!==a||s[13]!==l?(c=(0,i.jsxs)(o.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[a,l]}),s[12]=a,s[13]=l,s[14]=c):c=s[14],c):null}function N(){}function D(){}try{w.displayName||(w.displayName="DiffLinePresentationToggles")}catch{}function I(e){let t,n,a,l,c,s,d,f=(0,r.c)(17),{reloadOnChange:m}=e,u=void 0!==m&&m,{data:h}=(0,C.ID)(),p=h?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:T,onError:E},f[0]=t):t=f[0];let{mutate:g}=(0,y.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(o.l.GroupHeading,{children:"Layout"}),f[1]=n):n=f[1];let x="unified"===p;f[2]!==u||f[3]!==g?(a=()=>{g({splitPreference:"unified"}),(0,C.bJ)("diff","unified"),u&&window.location.reload()},f[2]=u,f[3]=g,f[4]=a):a=f[4],f[5]!==x||f[6]!==a?(l=(0,i.jsx)(o.l.Item,{selected:x,onSelect:a,children:"Unified"}),f[5]=x,f[6]=a,f[7]=l):l=f[7];let b="split"===p;return f[8]!==u||f[9]!==g?(c=()=>{g({splitPreference:"split"}),(0,C.bJ)("diff","split"),u&&window.location.reload()},f[8]=u,f[9]=g,f[10]=c):c=f[10],f[11]!==b||f[12]!==c?(s=(0,i.jsx)(o.l.Item,{selected:b,onSelect:c,children:"Split"}),f[11]=b,f[12]=c,f[13]=s):s=f[13],f[14]!==l||f[15]!==s?(d=(0,i.jsxs)(o.l.Group,{selectionVariant:"single",children:[n,l,s]}),f[14]=l,f[15]=s,f[16]=d):d=f[16],d}function E(){}function T(){}try{I.displayName||(I.displayName="DiffViewPreferenceToggle")}catch{}var P=n(18799);function k(){let e,t,n,a,l=(0,r.c)(8),{data:c}=(0,C.ID)();l[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:R,onError:F},l[0]=e):e=l[0];let{mutate:s}=(0,y.U)(e);if(!c)return null;let d=c.commentsPreference===P.sI.Collapsed;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(o.l.Divider,{}),l[1]=t):t=l[1],l[2]!==d||l[3]!==s?(n=()=>s({commentsPreference:d?P.sI.Visible:P.sI.Collapsed}),l[2]=d,l[3]=s,l[4]=n):n=l[4],l[5]!==d||l[6]!==n?(a=(0,i.jsxs)(i.Fragment,{children:[t,(0,i.jsx)(o.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,i.jsx)(o.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:n,children:"Minimize comments"})})]}),l[5]=d,l[6]=n,l[7]=a):a=l[7],a}function F(){}function R(){}try{k.displayName||(k.displayName="DiffCommentsPreferenceToggle")}catch{}var $=n(30459);function O(e){let t,n,s,d,f,m,u,h,p,g,x,y,b=(0,r.c)(27),{invisible:v,lineSpacingPreferenceAvailable:_,defaultHideWhitespace:S,onUpdateWhitespace:C,reloadOnSplitPreferenceChange:N,reloadOnWhitespaceChange:D,small:E}=e,T=void 0===_||_,P=void 0!==N&&N,{sendAnalyticsEvent:F}=(0,$.s)();b[0]!==F?(t=()=>{F("diff_view.settings.open","DIFF_VIEW_SETTINGS_BUTTON")},b[0]=F,b[1]=t):t=b[1];let R=t,O=void 0===v||v?"Button--invisible":"Button--secondary",A=E&&"Button--small";b[2]!==O||b[3]!==A?(n=(0,c.$)("Button Button--iconOnly",O,A),b[2]=O,b[3]=A,b[4]=n):n=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)(a.GearIcon,{}),b[5]=s):s=b[5],b[6]!==R||b[7]!==n?(d=(0,i.jsx)(l.W.Anchor,{children:(0,i.jsx)("button",{className:n,"aria-label":"Open diff view settings",onClick:R,children:s})}),b[6]=R,b[7]=n,b[8]=d):d=b[8],b[9]!==P?(f=(0,i.jsx)(I,{reloadOnChange:P}),b[9]=P,b[10]=f):f=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(k,{}),u=(0,i.jsx)(o.l.Divider,{}),b[11]=m,b[12]=u):(m=b[11],u=b[12]);let G=void 0!==D&&D?B:void 0;return b[13]!==S||b[14]!==T||b[15]!==C||b[16]!==G?(h=(0,i.jsx)(w,{defaultHideWhitespace:S,lineSpacingPreferenceAvailable:T,onUpdateWhitespace:C,reloadOnChange:G}),b[13]=S,b[14]=T,b[15]=C,b[16]=G,b[17]=h):h=b[17],b[18]!==f||b[19]!==h?(p=(0,i.jsx)(l.W.Overlay,{children:(0,i.jsxs)(o.l,{children:[f,m,u,h]})}),b[18]=f,b[19]=h,b[20]=p):p=b[20],b[21]!==d||b[22]!==p?(g=(0,i.jsxs)(l.W,{children:[d,p]}),b[21]=d,b[22]=p,b[23]=g):g=b[23],b[24]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsx)(j,{}),b[24]=x):x=b[24],b[25]!==g?(y=(0,i.jsxs)(i.Fragment,{children:[g,x]}),b[25]=g,b[26]=y):y=b[26],y}function B(){return window.location.reload()}try{O.displayName||(O.displayName="DiffViewSettings")}catch{}},8624:(e,t,n)=>{n.d(t,{L:()=>c});var i=n(74848),r=n(21728),a=n(38621),l=n(87330),o=n(34164);let c=n(96540).forwardRef((e,t)=>{let n,c,s,d=(0,r.c)(17),{expanded:f,testid:m,ariaLabel:u,ariaControls:h,onToggleExpanded:p,alignment:g,dataHotkey:x,className:y,size:b,tooltipDirection:v,variant:j}=e,_=f?`collapse-${m}`:`expand-${m}`,S=f?"left"===g?a.SidebarExpandIcon:a.SidebarCollapseIcon:"left"===g?a.SidebarCollapseIcon:a.SidebarExpandIcon;d[0]!==p?(n=e=>{p(e)},d[0]=p,d[1]=n):n=d[1];let C=j??"invisible";return d[2]!==y?(c=(0,o.$)(y,"fgColor-muted"),d[2]=y,d[3]=c):c=d[3],d[4]!==h||d[5]!==u||d[6]!==x||d[7]!==f||d[8]!==t||d[9]!==b||d[10]!==_||d[11]!==S||d[12]!==n||d[13]!==C||d[14]!==c||d[15]!==v?(s=(0,i.jsx)(l.K,{"aria-label":u,tooltipDirection:v,ref:t,"data-testid":_,"aria-expanded":f,"aria-controls":h,icon:S,"data-hotkey":x,onClick:n,variant:C,size:b,className:c}),d[4]=h,d[5]=u,d[6]=x,d[7]=f,d[8]=t,d[9]=b,d[10]=_,d[11]=S,d[12]=n,d[13]=C,d[14]=c,d[15]=v,d[16]=s):s=d[16],s});c.displayName="ExpandButton"}}]);
//# sourceMappingURL=packages_use-hide-footer_use-hide-footer_ts-packages_commits_shared_use-tree-pane_tsx-package-9c5f33-ed4f5abe8ea3.js.map